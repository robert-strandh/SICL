\section{Previous work}

\subsection{\commonlisp{} the Language, second edition}

\subsubsection{Environment query}

Section 8.5 of ``Common Lisp, the Language, second edition'' describes
a set of functions for obtaining information from environment
objects and some other operators related to environments.

For environment query, it describes three functions.  We describe them
briefly here.

The function \texttt{variable-information} takes a symbol and an
optional environment object as arguments.  It returns three values.
The first value indicates the type of the binding (lexical variable,
special variable, symbol macro, constant variable) or \texttt{nil} if
there is no binding or definition in the environment for that symbol
The second value is a Boolean, indicating whether the binding is local
or global.  The third argument is an association list containing
declarations that apply to the binding.

The function \texttt{function-information} takes a function name and
an optional environment as arguments.  Again, three values are
returned.  The first value indicates the type of the binding
(function, macro, special operator\footnote{The term used in the book
  is \emph{special form}, but the terminology has been improved since
  then}) or \texttt{nil} if there is no binding or definition in the
environment for that function name.  As before, the second value
indicates whether the definition is local or global, and the third
value is an association list of declarations that apply.

The function \texttt{declaration-information} takes a
\emph{declaration name} and an optional environment as arguments.  The
declaration name can be the symbol \texttt{optimize}, the symbol
\texttt{declaration}, or some implementation-defined declaration
names.  It returns a single value that contains information related to
the corresponding declaration name.

To begin with, it is clear that this set of functions is insufficient
to process all \commonlisp{} code, because no mechanism is described
for querying the environment for information related to \emph{blocks}
and \emph{go tags}.  Functions for this purpose are provided as
extensions by Allegro Common Lisp.\footnote{FIXME: add
  citation}\footnote{FIXME: describe changes to the protocol by ACL}

\subsubsection{Environment augmentation}

For augmenting an environment, i.e., creating a new, augmented,
environment from an existing one, the same section describes the
function \texttt{augment-environment}.

\subsection{SBCL}

\subsection{CCL}

\subsection{CMUCL}

\subsection{ECL}

\subsection{Allegro}

\subsection{LispWorks}
